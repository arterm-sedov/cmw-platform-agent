"""
Internationalization (i18n) Translations for CMW Platform Agent
================================================================

Provides Russian and English translations for all UI text in the Gradio application.
Uses Gradio's built-in I18n class for seamless localization support.

Based on Gradio's internationalization documentation:
https://www.gradio.app/guides/internationalization
"""

import gradio as gr
from typing import Dict, Any

# Russian translations for all UI text
RUSSIAN_TRANSLATIONS = {
    # App title and header
    "app_title": "–ê—Å—Å–∏—Å—Ç–µ–Ω—Ç –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ Comindware",
    "hero_title": "–ê—Å—Å–∏—Å—Ç–µ–Ω—Ç –∞–Ω–∞–ª–∏—Ç–∏–∫–∞",
    
    # Tab labels
    "tab_chat": "üí¨ –ß–∞—Ç",
    "tab_logs": "üìú –ñ—É—Ä–Ω–∞–ª—ã", 
    "tab_stats": "üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞",
    
    # Chat tab content
    "welcome_title": "üí¨ –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!",
    "welcome_description": """
    –ê—Å—Å–∏—Å—Ç–µ–Ω –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ Comindware —Ñ–æ–∫—É—Å–∏—Ä—É–µ—Ç—Å—è –Ω–∞ –æ–ø–µ—Ä–∞—Ü–∏—è—Ö —Å —Å—É—â–Ω–æ—Å—Ç—è–º–∏ **Comindware Platform** (–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, —à–∞–±–ª–æ–Ω—ã, –∞—Ç—Ä–∏–±—É—Ç—ã) –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ç–æ—á–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π.

    - **–û–ø–µ—Ä–∞—Ü–∏–∏ —Å Comindware Platform –≤ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–µ**: –ø–æ–º–æ–≥–∞–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –ø–æ–º–æ—â—å—é –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—É—â–Ω–æ—Å—Ç–µ–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–æ–∑–¥–∞–Ω–∏–µ/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∞—Ç—Ä–∏–±—É—Ç–æ–≤)
    - **–û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –º–æ–¥–µ–ª–µ–π**: –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤ LLM
    - **–ö–æ–º–ø–∞–∫—Ç–Ω—ã–π —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤—ã–≤–æ–¥**: –ù–∞–º–µ—Ä–µ–Ω–∏–µ ‚Üí –ü–ª–∞–Ω ‚Üí –ü—Ä–æ–≤–µ—Ä–∫–∞ ‚Üí –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ ‚Üí –†–µ–∑—É–ª—å—Ç–∞—Ç
    """,
    
    "try_asking_title": "‚ùì –í–∞—Ä–∏–∞–Ω—Ç—ã –∑–∞–ø—Ä–æ—Å–æ–≤:",
    "try_asking_examples": """
    - –ü–µ—Ä–µ—á–∏—Å–ª–∏ –≤—Å–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ –≤ —É–¥–æ–±–Ω–æ–º —Å–ø–∏—Å–∫–µ
    - –ü–æ–∫–∞–∂–∏ –≤—Å–µ —à–∞–±–ª–æ–Ω—ã –∑–∞–ø–∏—Å–µ–π –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ "ERP". –û—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–π –∫—Ä–∞—Å–∏–≤–æ –∏—Å–ø–æ–ª—å–∑—É—è Markdown.
    - –í—ã–¥–∞–π —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∞—Ç—Ä–∏–±—É—Ç–æ–≤ —à–∞–±–ª–æ–Ω–∞ "–ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç—ã", –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ "ERP"
    - –°–æ–∑–¥–∞—Ç—å —Ç–µ–∫—Å—Ç–æ–≤—ã–π –∞—Ç—Ä–∏–±—É—Ç "–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π", –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ "HR", —à–∞–±–ª–æ–Ω "–ö–∞–Ω–¥–∏–¥–∞—Ç—ã"
    - –°–æ–∑–¥–∞–π —Ç–µ–∫—Å—Ç–æ–≤—ã–π –∞—Ç—Ä–∏–±—É—Ç "ID –∫–ª–∏–µ–Ω—Ç–∞", –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ "ERP", —à–∞–±–ª–æ–Ω "–ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç—ã", –æ—Å–æ–±–∞—è –º–∞—Å–∫–∞ –≤–≤–æ–¥–∞: ([0-9]{10}|[0-9]{12})
    - –î–ª—è –∞—Ç—Ä–∏–±—É—Ç–∞ "–ö–æ–Ω—Ç–∞–∫—Ç–Ω—ã–π —Ç–µ–ª–µ—Ñ–æ–Ω" –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ "CRM", —à–∞–±–ª–æ–Ω "–õ–∏–¥—ã", —Å–º–µ–Ω–∏ —Ñ–æ—Ä–º–∞—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–∞ —Ä–æ—Å—Å–∏–π—Å–∫–∏–π —Ç–µ–ª–µ—Ñ–æ–Ω
    - –ü–æ–ª—É—á–∏ –∞—Ç—Ä–∏–±—É—Ç: —Å–∏—Å—Ç–µ–º–Ω–æ–µ –∏–º—è "–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π", –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ "HR", —à–∞–±–ª–æ–Ω "–ö–∞–Ω–¥–∏–¥–∞—Ç—ã"
    - –ê—Ä—Ö–∏–≤–∏—Ä—É–π/—Ä–∞–∑–∞—Ä—Ö–∏–≤–∏—Ä—É–π –∞—Ç—Ä–∏–±—É—Ç, —Å–∏—Å—Ç–µ–º–Ω–æ–µ –∏–º—è "–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π", –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ "HR", —à–∞–±–ª–æ–Ω "–ö–∞–Ω–¥–∏–¥–∞—Ç—ã"
    """,
    
    # Quick actions
    "quick_actions_title": "‚ö° –ó–∞–≥–æ—Ç–æ–≤–∫–∏",
    "quick_list_apps": "üîé –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π",
    "quick_create_attr": "üß© –°–æ–∑–¥–∞—Ç—å —Ç–µ–∫—Å—Ç–æ–≤—ã–π –∞—Ç—Ä–∏–±—É—Ç",
    "quick_edit_mask": "üõ†Ô∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –º–∞—Å–∫—É —Ç–µ–ª–µ—Ñ–æ–Ω–∞",
    "quick_math": "üßÆ 15 * 23 + 7 = ?",
    "quick_code": "üíª –§—É–Ω–∫—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ—Å—Ç—ã—Ö —á–∏—Å–µ–ª –Ω–∞ Python",
    "quick_explain": "üí≠ –û–±—ä—è—Å–Ω–∏—Ç—å ML –∫—Ä–∞—Ç–∫–æ",
    
    # Chat interface
    "chat_label": "–ß–∞—Ç —Å –∞–≥–µ–Ω—Ç–æ–º",
    "message_label": "–í–∞—à–µ —Å–æ–æ–±—â–µ–Ω–∏–µ",
    "message_placeholder": "–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ —Å–æ–æ–±—â–µ–Ω–∏–µ...",
    "send_button": "–û—Ç–ø—Ä–∞–≤–∏—Ç—å",
    "clear_button": "–û—á–∏—Å—Ç–∏—Ç—å —á–∞—Ç",
    
    # Status section
    "status_title": "ü§ñ –°—Ç–∞—Ç—É—Å",
    "status_initializing": "üü° –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è...",
    "status_ready": "‚úÖ –ì–æ—Ç–æ–≤",
    "progress_title": "üìä –ü—Ä–æ–≥—Ä–µ—Å—Å",
    "progress_ready": "–ì–æ—Ç–æ–≤ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –≤–∞—à –∑–∞–ø—Ä–æ—Å...",
    
    # Logs tab
    "logs_title": "–ñ—É—Ä–Ω–∞–ª—ã –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏",
    "logs_initializing": "üü° –ò–¥—ë—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è...",
    "refresh_logs_button": "üîÑ –û–±–Ω–æ–≤–∏—Ç—å –∂—É—Ä–Ω–∞–ª—ã",
    "clear_logs_button": "üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å –∂—É—Ä–Ω–∞–ª—ã",
    "logs_cleared": "–ñ—É—Ä–Ω–∞–ª—ã –æ—á–∏—â–µ–Ω—ã.",
    "logs_not_available": "–ñ—É—Ä–Ω–∞–ª—ã –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–æ",
    
    # Stats tab
    "stats_title": "–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∞–≥–µ–Ω—Ç–∞",
    "stats_loading": "–ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏...",
    "refresh_stats_button": "üîÑ –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É",
    "agent_not_available": "–ê–≥–µ–Ω—Ç –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω",
    "error_loading_stats": "–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏",
    
    # Status messages
    "agent_ready": "‚úÖ **–ê–≥–µ–Ω—Ç –≥–æ—Ç–æ–≤**",
    "agent_initializing": "üü° **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∞–≥–µ–Ω—Ç–∞...**",
    "agent_not_ready": "‚ùå **–ê–≥–µ–Ω—Ç –Ω–µ –≥–æ—Ç–æ–≤. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –¥–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏.**",
    
    # Error messages
    "error_processing": "‚ùå **–û—à–∏–±–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è: {error}**",
    "error_streaming": "‚ùå **–û—à–∏–±–∫–∞ –ø–æ—Ç–æ–∫–æ–≤–æ–π –ø–µ—Ä–µ–¥–∞—á–∏ —Å–æ–æ–±—â–µ–Ω–∏—è: {error}**",
    "error_agent_timeout": "‚ùå **–¢–∞–π–º–∞—É—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∞–≥–µ–Ω—Ç–∞**",
    "error_initialization_failed": "‚ùå **–û—à–∏–±–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏: {error}**",
    
    # Token and execution info
    "prompt_tokens": "**–¢–æ–∫–µ–Ω—ã –∑–∞–ø—Ä–æ—Å–∞:** {tokens}",
    "api_tokens": "**API —Ç–æ–∫–µ–Ω—ã:** {tokens}",
    "execution_time": "**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** {time:.2f}—Å",
    "deduplication": "**–î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è:** {duplicates} –¥—É–±–ª–∏—Ä—É—é—â–∏—Ö –≤—ã–∑–æ–≤–æ–≤ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–æ ({breakdown})",
    "total_tool_calls": "**–í—Å–µ–≥–æ –≤—ã–∑–æ–≤–æ–≤ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤:** {calls}",
    
    # Agent status details
    "agent_status_ready": "‚úÖ **–ê–≥–µ–Ω—Ç –≥–æ—Ç–æ–≤**",
    "agent_status_initializing": "üü° **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∞–≥–µ–Ω—Ç–∞**",
    "provider_label": "**–ü—Ä–æ–≤–∞–π–¥–µ—Ä:** {provider}",
    "model_label": "**–ú–æ–¥–µ–ª—å:** {model}",
    "status_label": "**–°—Ç–∞—Ç—É—Å:** {status}",
    "tools_label": "**–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:** {count} –¥–æ—Å—Ç—É–ø–Ω–æ",
    "last_used_label": "**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:** {time}",
    "healthy_status": "‚úÖ –ò—Å–ø—Ä–∞–≤–µ–Ω",
    "unhealthy_status": "‚ùå –ù–µ–∏—Å–ø—Ä–∞–≤–µ–Ω",
    
    # Statistics labels
    "agent_status_section": "**–°—Ç–∞—Ç—É—Å –∞–≥–µ–Ω—Ç–∞:**",
    "conversation_section": "**–î–∏–∞–ª–æ–≥:**",
    "tools_section": "**–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:**",
    "token_usage_section": "**–†–∞—Å—Ö–æ–¥ —Ç–æ–∫–µ–Ω–æ–≤:**",
    "messages_label": "–°–æ–æ–±—â–µ–Ω–∏—è",
    "user_messages_label": "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å",
    "assistant_messages_label": "–ê—Å—Å–∏—Å—Ç–µ–Ω—Ç",
    "total_messages_label": "–í—Å–µ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏–π",
    "available_label": "–î–æ—Å—Ç—É–ø–Ω–æ",
    "used_label": "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ",
    "total_persistent_label": "–í—Å–µ–≥–æ",
    "current_conversation_label": "–¢–µ–∫—É—â–∏–π –¥–∏–∞–ª–æ–≥",
    "average_per_message_label": "–°—Ä–µ–¥–Ω–µ–µ –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ",
    "tokens_label": "—Ç–æ–∫–µ–Ω–æ–≤",
    "unique_tools_label": "—É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤",
    "total_calls_label": "–í—Å–µ–≥–æ –≤—ã–∑–æ–≤–æ–≤",
    "tools_used_label": "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤",
    
    # Quick action messages
    "quick_math_message": "–°–∫–æ–ª—å–∫–æ –±—É–¥–µ—Ç 15 * 23 + 7? –ü–æ–∫–∞–∂–∏—Ç–µ —Ä–∞–±–æ—Ç—É –ø–æ—à–∞–≥–æ–≤–æ.",
    "quick_code_message": "–ù–∞–ø–∏—à–∏ —Ñ—É–Ω–∫—Ü–∏—é –Ω–∞ Python –ø—Ä–æ–≤–µ—Ä—è—é—â—É—é, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ —á–∏—Å–ª–æ –ø—Ä–æ—Å—Ç—ã–º. –ù–∞–ø–∏—à–∏ –∏ –∑–∞–ø—É—Å—Ç–∏ —Ç–µ—Å—Ç—ã.",
    "quick_explain_message": "–û–±—ä—è—Å–Ω–∏ –∫–æ–Ω—Ü–µ–ø—Ü–∏—é –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è –ø—Ä–æ—Å—Ç—ã–º–∏ —Å–ª–æ–≤–∞–º–∏.",
    "quick_create_attr_message": (
        "–°–æ—Å—Ç–∞–≤—å –ø–ª–∞–Ω –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –∞—Ç—Ä–∏–±—É—Ç–∞ \"ID –∫–ª–∏–µ–Ω—Ç–∞\" –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ \"ERP\", —à–∞–±–ª–æ–Ω \"–ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç—ã\" "
        "—Å display_format=CustomMask –∏ –º–∞—Å–∫–æ–π ([0-9]{{10}}|[0-9]{{12}}), system_name=CustomerID. "
        "–ü—Ä–µ–¥—Å—Ç–∞–≤—å: –ù–∞–º–µ—Ä–µ–Ω–∏–µ, –ü–ª–∞–Ω, –ü—Ä–æ–≤–µ—Ä–∫—É –∏ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä (DRY-RUN) –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ (–∫–æ–º–ø–∞–∫—Ç–Ω—ã–π JSON) –¥–ª—è –≤—ã–∑–æ–≤–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞, "
        "–ù–æ –Ω–µ –≤—ã–ø–æ–ª–Ω—è–π –Ω–∏–∫–∞–∫–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –ø–æ–∫–∞. –ñ–¥–∏ –º–æ–µ–≥–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è."
    ),
    "quick_edit_mask_message": (
        "–ü–æ–¥–≥–æ—Ç–æ–≤—å –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –ø–ª–∞–Ω —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∞—Ç—Ä–∏–±—É—Ç–∞ \"–ö–æ–Ω—Ç–∞–∫—Ç–Ω—ã–π —Ç–µ–ª–µ—Ñ–æ–Ω\" (system_name=ContactPhone) –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ \"CRM\", —à–∞–±–ª–æ–Ω \"–õ–∏–¥—ã\". "
        "–ò–∑–º–µ–Ω–∏ display_format –Ω–∞ PhoneRuMask. –ü—Ä–µ–¥—Å—Ç–∞–≤—å: –ù–∞–º–µ—Ä–µ–Ω–∏–µ, –ü–ª–∞–Ω, –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–≤–µ—Ä–∫–∏ (–∑–∞–º–µ—Ç–∫–∏ –æ —Ä–∏—Å–∫–∞—Ö) –∏ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä –∑–∞–ø—Ä–æ—Å–∞ (DRY-RUN). "
        "–ù–µ –≤—ã–ø–æ–ª–Ω—è–π –∏–∑–º–µ–Ω–µ–Ω–∏—è, –æ–∂–∏–¥–∞–π –º–æ–µ–≥–æ –æ–¥–æ–±—Ä–µ–Ω–∏—è."
    ),
    "quick_list_apps_message": (
        "–ü–æ–∫–∞–∂–∏ —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –≤ Comindware Platform. "
        "–û—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–π –∫—Ä–∞—Å–∏–≤–æ –≤ Markdown. "
        "–ü–æ–∫–∞–∂–∏ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –∏–º–µ–Ω–∞, –æ–ø–∏—Å–∞–Ω–∏—è, —Å—Å—ã–ª–∫–∏, –µ—Å–ª–∏ –µ—Å—Ç—å."
    ),
    
    # Query example buttons (converted from try_asking_examples)
    "quick_edit_enum": "üìù –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å ¬´–°–ø–∏—Å–æ–∫ –∑–Ω–∞—á–µ–Ω–∏–π¬ª",
    "quick_edit_enum_message": "–ü–æ–ª—É—á–∏ –∞—Ç—Ä–∏–±—É—Ç —Ç–∏–ø–∞ enum \"–°—Ç–∞—Ç—É—Å\" –∏–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è \"CRM\", —à–∞–±–ª–æ–Ω \"–õ–∏–¥—ã\", –∑–∞—Ç–µ–º –¥–æ–±–∞–≤—å –∫ –Ω–µ–º—É –Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ \"–í —Ä–∞–±–æ—Ç–µ\" (system_name: in_progress, color: #FF9800) –∏ –æ–±–Ω–æ–≤–∏ –∞—Ç—Ä–∏–±—É—Ç",
    
    "quick_templates_erp": "üìÑ –®–∞–±–ª–æ–Ω—ã ERP",
    "quick_templates_erp_message": "–ü–æ–∫–∞–∂–∏ –≤—Å–µ —à–∞–±–ª–æ–Ω—ã –∑–∞–ø–∏—Å–µ–π –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ \"ERP\". –û—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–π –∫—Ä–∞—Å–∏–≤–æ –∏—Å–ø–æ–ª—å–∑—É—è Markdown.",
    
    "quick_attributes_contractors": "üè∑Ô∏è –ê—Ç—Ä–∏–±—É—Ç—ã –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–æ–≤",
    "quick_attributes_contractors_message": "–í—ã–¥–∞–π —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∞—Ç—Ä–∏–±—É—Ç–æ–≤ —à–∞–±–ª–æ–Ω–∞ \"–ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç—ã\", –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ \"ERP\"",
    
    "quick_create_comment_attr": "üí¨ –°–æ–∑–¥–∞—Ç—å –∞—Ç—Ä–∏–±—É—Ç –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è",
    "quick_create_comment_attr_message": "–°–æ–∑–¥–∞—Ç—å —Ç–µ–∫—Å—Ç–æ–≤—ã–π –∞—Ç—Ä–∏–±—É—Ç \"–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π\", –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ \"HR\", —à–∞–±–ª–æ–Ω \"–ö–∞–Ω–¥–∏–¥–∞—Ç—ã\"",
    
    "quick_create_id_attr": "üÜî –°–æ–∑–¥–∞—Ç—å –∞—Ç—Ä–∏–±—É—Ç ID",
    "quick_create_id_attr_message": "–°–æ–∑–¥–∞–π —Ç–µ–∫—Å—Ç–æ–≤—ã–π –∞—Ç—Ä–∏–±—É—Ç \"ID –∫–ª–∏–µ–Ω—Ç–∞\", –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ \"ERP\", —à–∞–±–ª–æ–Ω \"–ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç—ã\", –æ—Å–æ–±–∞—è –º–∞—Å–∫–∞ –≤–≤–æ–¥–∞: ([0-9]{10}|[0-9]{12})",
    
    "quick_edit_phone_mask": "üìû –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –º–∞—Å–∫—É —Ç–µ–ª–µ—Ñ–æ–Ω–∞",
    "quick_edit_phone_mask_message": "–î–ª—è –∞—Ç—Ä–∏–±—É—Ç–∞ \"–ö–æ–Ω—Ç–∞–∫—Ç–Ω—ã–π —Ç–µ–ª–µ—Ñ–æ–Ω\" –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ \"CRM\", —à–∞–±–ª–æ–Ω \"–õ–∏–¥—ã\", —Å–º–µ–Ω–∏ —Ñ–æ—Ä–º–∞—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–∞ —Ä–æ—Å—Å–∏–π—Å–∫–∏–π —Ç–µ–ª–µ—Ñ–æ–Ω",
    
    "quick_get_comment_attr": "üîç –ü–æ–ª—É—á–∏—Ç—å –∞—Ç—Ä–∏–±—É—Ç –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è",
    "quick_get_comment_attr_message": "–ü–æ–ª—É—á–∏ –∞—Ç—Ä–∏–±—É—Ç: —Å–∏—Å—Ç–µ–º–Ω–æ–µ –∏–º—è \"–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π\", –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ \"HR\", —à–∞–±–ª–æ–Ω \"–ö–∞–Ω–¥–∏–¥–∞—Ç—ã\"",
    
    "quick_edit_date_time": "üìÖ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –¥–∞—Ç—É/–≤—Ä–µ–º—è",
    "quick_edit_date_time_message": "–°–æ–∑–¥–∞–π –∞—Ç—Ä–∏–±—É—Ç –¥–∞—Ç—ã/–≤—Ä–µ–º–µ–Ω–∏ \"–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞—è–≤–∫–∏\" –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ \"CRM\", —à–∞–±–ª–æ–Ω \"–õ–∏–¥—ã\" —Å —Ñ–æ—Ä–º–∞—Ç–æ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è LongDateLongTime –∏ –∏—Å–ø–æ–ª—å–∑—É–π –µ–≥–æ –∫–∞–∫ –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∑–∞–ø–∏—Å–∏ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –ø–æ –≤—Ä–µ–º–µ–Ω–∏",
    
    "quick_archive_attr": "üì¶ –ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞—Ç—å –∞—Ç—Ä–∏–±—É—Ç",
    "quick_archive_attr_message": "–ê—Ä—Ö–∏–≤–∏—Ä—É–π/—Ä–∞–∑–∞—Ä—Ö–∏–≤–∏—Ä—É–π –∞—Ç—Ä–∏–±—É—Ç, —Å–∏—Å—Ç–µ–º–Ω–æ–µ –∏–º—è \"–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π\", –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ \"HR\", —à–∞–±–ª–æ–Ω \"–ö–∞–Ω–¥–∏–¥–∞—Ç—ã\"",
    
    # Status messages
    "processing_complete": "üéâ –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞",
    "response_completed": "–û—Ç–≤–µ—Ç –∑–∞–≤–µ—Ä—à–µ–Ω",
    "processing_failed": "–û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ —É–¥–∞–ª–∞—Å—å",
    
    # Iteration messages
    "iteration_processing": "–ò—Ç–µ—Ä–∞—Ü–∏—è {iteration}/{max_iterations} - –û–±—Ä–∞–±–æ—Ç–∫–∞...",
    "iteration_finished": "–ò—Ç–µ—Ä–∞—Ü–∏—è {iteration}/{max_iterations} - –ó–∞–≤–µ—Ä—à–µ–Ω–∞",
    "iteration_completed": "–ò—Ç–µ—Ä–∞—Ü–∏—è {iteration} –∑–∞–≤–µ—Ä—à–µ–Ω–∞ - –ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ...",
    "iteration_max_reached": "–ò—Ç–µ—Ä–∞—Ü–∏—è {iteration}/{max_iterations} - –ó–∞–≤–µ—Ä—à–µ–Ω–∞ (–¥–æ—Å—Ç–∏–≥–Ω—É—Ç –º–∞–∫—Å–∏–º—É–º)",
    "max_iterations_warning": "‚ö†Ô∏è –î–æ—Å—Ç–∏–≥–Ω—É—Ç –ª–∏–º–∏—Ç –∏—Ç–µ—Ä–∞—Ü–∏–π ({max_iterations}), –¥–∏–∞–ª–æ–≥ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–ø–æ–ª–Ω—ã–º",
    
    # Tool messages
    "tool_called": "üîß –í—ã–∑–≤–∞–Ω –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç: {tool_name}",
    "call_count": "–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—ã–∑–æ–≤–æ–≤: {total_calls}",
    "result": "**–†–µ–∑—É–ª—å—Ç–∞—Ç:** {tool_result}",
    "tool_error": "‚ùå **–û—à–∏–±–∫–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞: {error}**",
    "unknown_tool": "‚ùå **–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç: {tool_name}**",
    
    # Error messages
    "error": "‚ùå **–û—à–∏–±–∫–∞: {error}**"
}

# English translations (fallback)
ENGLISH_TRANSLATIONS = {
    # App title and header
    "app_title": "Comindware Analyst Copilot",
    "hero_title": "Analyst Copilot",
    
    # Tab labels
    "tab_chat": "üí¨ Chat",
    "tab_logs": "üìú Logs", 
    "tab_stats": "üìä Statistics",
    
    # Chat tab content
    "welcome_title": "üí¨ Welcome!",
    "welcome_description": """
    The Comindware Analyst Copilot focuses on the **Comindware Platform** entity operations (applications, templates, attributes) and uses deterministic tools to execute precise changes.

    - **Platform operations first**: Validates your intent and executes tools for entity changes (e.g., create/edit attributes)
    - **Multi-model orchestration**: Supports multiple LLM providers
    - **Compact structured output**: Intent ‚Üí Plan ‚Üí Validate ‚Üí Execute ‚Üí Result
    """,
    
    "try_asking_title": "‚ùì Try asking",
    "try_asking_examples": """
    - List all applications in the platform. Format nicely using Markdown
    - List all record templates in app \"ERP\". Format as a list
    - List all attributes in template \"Counterparties\", app \"ERP\"
    - Create plain text attribute \"Comment\", app \"HR\", template \"Candidates\"
    - Create \"Customer ID\" text attribute, app \"ERP\", template \"Counterparties\", custom input mask ([0-9]{10}|[0-9]{12})
    - For attribute \"Contact Phone\" in app \"CRM\", template \"Leads\", change display format to Russian phone
    - Fetch attribute: system name \"Comment\", app \"HR\", template \"Candidates\"
    - Archive/unarchive attribute, system name \"Comment\", app \"HR\", template \"Candidates\"
    """,
    
    # Quick actions
    "quick_actions_title": "‚ö° Quick Actions",
    "quick_list_apps": "üîé List all apps",
    "quick_create_attr": "üß© Create text attribute",
    "quick_edit_mask": "üõ†Ô∏è Edit phone mask",
    "quick_math": "üßÆ 15 * 23 + 7 = ?",
    "quick_code": "üíª Python prime check function",
    "quick_explain": "üí≠ Explain ML briefly",
    
    # Chat interface
    "chat_label": "Chat with the Agent",
    "message_label": "Your Message",
    "message_placeholder": "Type your message here",
    "send_button": "Send",
    "clear_button": "Clear chat",
    
    # Status section
    "status_title": "ü§ñ Status",
    "status_initializing": "üü° Initializing...",
    "status_ready": "‚úÖ Ready",
    "progress_title": "üìä Progress",
    "progress_ready": "Ready to process your request...",
    
    # Logs tab
    "logs_title": "Initialization Logs",
    "logs_initializing": "üü° Starting initialization...",
    "refresh_logs_button": "üîÑ Refresh Logs",
    "clear_logs_button": "üóëÔ∏è Clear Logs",
    "logs_cleared": "Logs cleared.",
    "logs_not_available": "Logs not available - main app not connected",
    
    # Stats tab
    "stats_title": "Agent Statistics",
    "stats_loading": "Loading statistics...",
    "refresh_stats_button": "üîÑ Refresh Stats",
    "agent_not_available": "Agent not available",
    "error_loading_stats": "Error loading statistics",
    
    # Status messages
    "agent_ready": "‚úÖ **Agent Ready**",
    "agent_initializing": "üü° **Agent Initializing**",
    "agent_not_ready": "‚ùå **Agent not ready. Please wait for initialization to complete.**",
    
    # Error messages
    "error_processing": "‚ùå **Error processing message: {error}**",
    "error_streaming": "‚ùå **Error streaming message: {error}**",
    "error_agent_timeout": "‚ùå **Agent initialization timeout**",
    "error_initialization_failed": "‚ùå **Initialization failed: {error}**",
    
    # Token and execution info
    "prompt_tokens": "**Prompt tokens:** {tokens}",
    "api_tokens": "**API tokens:** {tokens}",
    "execution_time": "**Execution time:** {time:.2f}s",
    "deduplication": "**Deduplication:** {duplicates} duplicate calls prevented ({breakdown})",
    "total_tool_calls": "**Total tool calls:** {calls}",
    
    # Agent status details
    "agent_status_ready": "‚úÖ **Agent Ready**",
    "agent_status_initializing": "üü° **Agent Initializing**",
    "provider_label": "**Provider:** {provider}",
    "model_label": "**Model:** {model}",
    "status_label": "**Status:** {status}",
    "tools_label": "**Tools:** {count} available",
    "last_used_label": "**Last Used:** {time}",
    "healthy_status": "‚úÖ Healthy",
    "unhealthy_status": "‚ùå Unhealthy",
    
    # Statistics labels
    "agent_status_section": "**Agent Status:**",
    "conversation_section": "**Conversation:**",
    "tools_section": "**Tools:**",
    "token_usage_section": "**Token Usage:**",
    "messages_label": "Messages",
    "user_messages_label": "User",
    "assistant_messages_label": "Copilot",
    "total_messages_label": "Total Messages",
    "available_label": "Available",
    "used_label": "Used",
    "total_persistent_label": "Total (Persistent)",
    "current_conversation_label": "Current Conversation",
    "average_per_message_label": "Average per Message",
    "tokens_label": "tokens",
    "unique_tools_label": "unique tools",
    "total_calls_label": "Total Calls",
    "tools_used_label": "Used tools",
    
    # Quick action messages
    "quick_math_message": "What is 15 * 23 + 7? Please show your work step by step.",
    "quick_code_message": "Write a Python function to check if a number is prime. Include tests.",
    "quick_explain_message": "Explain the concept of machine learning in simple terms.",
    "quick_create_attr_message": (
        "Draft a plan to CREATE a text attribute \"Customer ID\" in application \"ERP\", template \"Counterparties\" "
        "with display_format=CustomMask and mask ([0-9]{{10}}|[0-9]{{12}}), system_name=CustomerID. "
        "Provide Intent, Plan, Validate, and a DRY-RUN payload preview (compact JSON) for the tool call, "
        "but DO NOT execute any changes yet. Wait for my confirmation."
    ),
    "quick_edit_mask_message": (
        "Prepare a safe EDIT plan for attribute \"Contact Phone\" (system_name=ContactPhone) in application \"CRM\", template \"Leads\" "
        "to change display_format to PhoneRuMask. Provide Intent, Plan, Validate checklist (risk notes), and a DRY-RUN payload preview. "
        "Do NOT execute changes yet‚Äîawait my approval."
    ),
    "quick_list_apps_message": (
        "List all applications in the platform. "
        "Format nicely using Markdown. "
        "Show system names and descriptions if any."
    ),
    
    # Query example buttons (converted from try_asking_examples)
    "quick_edit_enum": "üìù Edit Enum",
    "quick_edit_enum_message": "Get the enum attribute \"Status\" from application \"CRM\", template \"Leads\", then add a new value \"In Progress\" (system_name: in_progress, color: #FF9800) and update the attribute",
    
    "quick_templates_erp": "üìÑ ERP Templates",
    "quick_templates_erp_message": "Show all record templates in the \"ERP\" application. Format nicely using Markdown.",
    
    "quick_attributes_contractors": "üè∑Ô∏è Contractor Attributes",
    "quick_attributes_contractors_message": "Get a list of all attributes of the \"Counterparties\" template, application \"ERP\"",
    
    "quick_create_comment_attr": "üí¨ Create Comment Attribute",
    "quick_create_comment_attr_message": "Create a text attribute \"Comment\", application \"HR\", template \"Candidates\"",
    
    "quick_create_id_attr": "üÜî Create ID Attribute",
    "quick_create_id_attr_message": "Create a text attribute \"Customer ID\", application \"ERP\", template \"Counterparties\", special input mask: ([0-9]{10}|[0-9]{12})",
    
    "quick_edit_phone_mask": "üìû Edit Phone Mask",
    "quick_edit_phone_mask_message": "For the \"Contact Phone\" attribute in application \"CRM\", template \"Leads\", change the display format to Russian phone",
    
    "quick_get_comment_attr": "üîç Get Comment Attribute",
    "quick_get_comment_attr_message": "Get attribute: system name \"Comment\", application \"HR\", template \"Candidates\"",
    
    "quick_edit_date_time": "üìÖ Configure Date/Time",
    "quick_edit_date_time_message": "Create a date/time attribute \"Lead Creation Date\" in application \"CRM\", template \"Leads\" with LongDateLongTime display format and use it as record title for automatic time-based sorting",
    
    "quick_archive_attr": "üì¶ Archive Attribute",
    "quick_archive_attr_message": "Archive/unarchive attribute, system name \"Comment\", application \"HR\", template \"Candidates\"",
    
    # Status messages
    "processing_complete": "üéâ Processing complete",
    "response_completed": "Response completed",
    "processing_failed": "Processing failed",
    
    # Iteration messages
    "iteration_processing": "Iteration {iteration}/{max_iterations} - Processing...",
    "iteration_finished": "Iteration {iteration}/{max_iterations} - Finished",
    "iteration_completed": "Iteration {iteration} completed - Continuing...",
    "iteration_max_reached": "Iteration {iteration}/{max_iterations} - Finished (Max Reached)",
    "max_iterations_warning": "‚ö†Ô∏è Reached maximum iterations ({max_iterations}), conversation may be incomplete",
    
    # Tool messages
    "tool_called": "üîß Tool called: {tool_name}",
    "call_count": "Call count: {total_calls}",
    "result": "**Result:** {tool_result}",
    "tool_error": "‚ùå **Tool error: {error}**",
    "unknown_tool": "‚ùå **Unknown tool: {tool_name}**",
    
    # Error messages
    "error": "‚ùå **Error: {error}**"
}

def create_i18n_instance(language: str = "en") -> gr.I18n:
    """
    Create a Gradio I18n instance with translations for all supported languages.
    
    Args:
        language: Language code ('en' or 'ru') - used for default language selection
    
    Returns:
        Gradio I18n instance with both English and Russian translations
    """
    return gr.I18n(
        en=ENGLISH_TRANSLATIONS,
        ru=RUSSIAN_TRANSLATIONS
    )

def get_translation_key(key: str, language: str = "en") -> str:
    """
    Get a translation for a specific key in the specified language.
    
    Args:
        key: Translation key
        language: Language code ('en' or 'ru')
        
    Returns:
        Translated string
    """
    if language.lower() == "ru":
        return RUSSIAN_TRANSLATIONS.get(key, ENGLISH_TRANSLATIONS.get(key, key))
    else:
        return ENGLISH_TRANSLATIONS.get(key, key)

def format_translation(key: str, language: str = "en", **kwargs) -> str:
    """
    Get a formatted translation for a specific key with variable substitution.
    
    Args:
        key: Translation key
        language: Language code ('en' or 'ru')
        **kwargs: Variables to substitute in the translation
        
    Returns:
        Formatted translated string
    """
    template = get_translation_key(key, language)
    try:
        return template.format(**kwargs)
    except KeyError as e:
        print(f"Warning: Missing format variable {e} for key '{key}' in language '{language}'")
        return template
